@using Color = MudBlazor.Color
@inherits LayoutComponentBase

<MudThemingProvider Theme="Theme" IsDarkMode="true" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout Class="text-white" data-bs-theme="dark">
    <MudAppBar Elevation="0">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@(_ => DrawerToggle())"/>
        <MudText Typo="Typo.h6">
            <SectionOutlet SectionName="LAYOUT_TITLE"/>
        </MudText>
        <MudSpacer/>
        <AuthorizeView>
            <MudLink Href="/Account/Logout">Выйти</MudLink>
        </AuthorizeView>
    </MudAppBar>
    <MudDrawer @bind-Open="DrawerOpen" Elevation="2">
        <MudDrawerHeader Style="padding-left: 16px">
            <MudLink Href="/">
                <MudText Class="text-white" Typo="Typo.h6">KlassText</MudText>
            </MudLink>
        </MudDrawerHeader>
        <NavMenu/>
    </MudDrawer>
    <MudMainContent Class="px-5">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool DrawerOpen = true;
    private void DrawerToggle() => DrawerOpen = !DrawerOpen;
    
    public readonly MudTheme Theme = new()
    {
        Typography = new Typography
        {
            Default = new Default
            {
                FontFamily = ["Inter", "Helvetica", "sans-serif"]
            }
        },
        PaletteDark = new()
        {
            Primary = new("#689F38"),
            Secondary = new("#83000D"),
            Background = new("#151515"),
            Surface = new("222"),
            AppbarBackground = new("#151515"),
            DrawerBackground = new("#090909"),
            BackgroundGrey = new("#151515"),
            TextPrimary = new("#fefefe"),
            TextSecondary = new("#757575"),
            OverlayDark = new("rgba(0, 0, 0, .9)")
        },
        LayoutProperties = new()
        {
            DefaultBorderRadius = "10px"
        }
    };

}